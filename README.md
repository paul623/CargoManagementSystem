# CargoManagementSystem

## 碎碎念

### 编写该系统的目的

货运输管理系统主要是致力于解决快递公司繁杂不统一，市场难于管理的问题。系统参与者有三类，普通用户、快递公司以及市场监管部门（管理员）。快递公司需要向管理部门提交申请，管理部门会给快递公司分配一个账号，快递公司通过该账号可以对员工的信息进行管理，并进行正常的收发快递操作。对于顾客来说，只需自行注册账号即可进行发快递、查快递的操作。同时系统配备了考核系统，顾客可以对快递订单进行评价，快递公司可以对快递员进行考核，管理者可以对快递公司进行评级。

 

综合各方面考虑，采用B/S结构更适用于该需求，用户只需要一个可以上网的设备，打开浏览器输入相应的网址即可访问系统。功能性的改进只需要对服务器进行升级即可，对用户端无任何影响。

### 服务器要求

操作系统：Centos 7.4 或 Ubuntu 16及以上版本系统。

数据库：Mysql 5.7以上

WEB 服务器：Nginx1.14.0以上版本以及 Tomcat7以上 

### 开发环境

IntelliJ IDEA 2019.3 

SpringBoot Framework

### 项目进度

- ~~项目启动~~ [2020/03/05 - 2020/03/05]

- ~~需求分析~~ [2020/03/06 - 2020/03/26]
- ~~系统设计~~ [2020/03/27 - 2020/04/17]
- 编码阶段 [2020/04/18]
  - ~~数据库设计~~ [2020/4/27]
  - 框架搭建 [2020/4/25]

### 项目负责人

编码：[paul623](https://github.com/paul623) [XCKjacksparrow](https://github.com/XCKjacksparrow)

## 最初功能设计

**顾客：**

**我要有一个账号，然后可以去发快递、查快递，然后还可以对订单服务进行评价**

注册、登录、修改个人信息资料

发快递（增加快递订单） 取消快递（取消快递订单） 查询快递信息 评价快递员

 

**快递公司：**

**我需要对快递进行管理，同时也要能够对快递员进行一些考核**

登录、修改个人信息资料

人员管理：查询配送员信息、修改配送员信息、删除配送员、添加配送员、绩效考核

快递信息管理：接收订单（发快递）、更新订单（快递信息）、统计数据（主要是各种数据信息，比如快递发货量、评价均分等等）

 **管理员：**

**维护系统功能正常，对快递公司进行管理**

登录、修改个人信息资料

维护用户信息：增删改查用户信息

维护快递公司信息：增删改查快递公司信息

日志系统，某个时间段哪个账号登录做了哪些操作（包括管理员）

## 具体功能设计及类设计

货运输品管理系统

顾客：id、用户名、手机号、密码、收货地址、注册日期、是否配送员、评分

*登录、注册、查快递、发快递、修改快递订单、取消快递订单、评价快递订单、修改资料、注册成为配送员*

历史快递订单 未完成的快递订单 评价内容 资料

快递公司：id、快递公司名称、密码、账号创建日期

*登录、注册、更新快递订单信息、绩效考核、订单统计*

历史订单记录 未接受订单 待更新订单

快递单：快递单号、发件人、收件人、创建日期、状态、寄送地址、目标地址、负责人、评价。

负责人：id、用户名、联系方式、评分

所属公司

管理员：id、管理部门名称、密码

*登录、注册、增删改查快递公司信息*

日志：id、日期、操作人、操作内容

顾客：登录系统，可以查看自己的订单详情，完成的订单可以进行评价、删除（历史订单）。可以创建一个邮寄订单的请求，然后在未接单之前可以修改、取消订单

快递公司：快递公司的账号负责更新订单信息，如接收订单、更新订单状态，同时可以查看自己目前接送多少订单、员工的评价排名情况

管理员：管理员主要是负责对快递公司的账号的管理，如查看运营情况，对账号的资料（资质）进行修改，新加盟的可以为其分配账号、离开的可以删除账号

## 数据库设计

| 顾客实体类 | customeracc |
| ---------- | ----------- |
|            |             |

| ID   | 用户名   | 手机号      | 密码     | 注册日期     | 上次登录日期  | 用户类型 | 地址    |
| ---- | -------- | ----------- | -------- | ------------ | ------------- | -------- | ------- |
| ID   | Username | Phonenumber | Password | RegisterDate | LastLoginDate | TypeID   | Address |

 

| 快递公司实体类 | companyacc |
| -------------- | ---------- |
|                |            |

| ID   | 快递公司名称 | 账号        | 密码     | 注册日期     | 所属机构 | 上次登录日期  | 公司评价星级 | 用户类型 |
| ---- | ------------ | ----------- | -------- | ------------ | -------- | ------------- | ------------ | -------- |
| ID   | UserName     | Phonenumber | Password | RegisterDate | PartID   | LastLoginDate | RemarkLevel  | TypeID   |

| 订单实体类 | order |
| ---------- | ----- |
|            |       |

| ID   | 发货人ID | 收货人ID  | 快递公司ID | 发货日期 | 负责人ID  | 订单名称（内容） | 订单评价 |
| ---- | -------- | --------- | ---------- | -------- | --------- | ---------------- | -------- |
| ID   | SenderID | ReceiveID | CompanyID  | SendDate | ChargerID | Content          | Mark     |

| 管理员实体类 | manageracc |
| ------------ | ---------- |
|              |            |

| ID   | 管理机构名称 | 账号        | 密码     | 上次登录日期  | 用户类别 |
| ---- | ------------ | ----------- | -------- | ------------- | -------- |
| ID   | Username     | Phonenumber | Password | LastLoginDate | TypeID   |

| 快递员实体类 | senderacc |
| ------------ | --------- |
|              |           |

| ID（工号） | 密码     | 快递员姓名 | 所属公司  | 星级      | 工作量   | 注册日期     | 上次登录日期  | 用户类别 |
| ---------- | -------- | ---------- | --------- | --------- | -------- | ------------ | ------------- | -------- |
| ID         | Password | UserName   | CompanyID | StarLevel | Workload | RegisterDate | LastLoginDate | TypeID   |

| 星级表（快递员） | starrule |
| ---------------- | -------- |
|                  |          |

| ID   | 星级      | 星级名称 | 评价标准                                     | 添加日期 |
| ---- | --------- | -------- | -------------------------------------------- | -------- |
| ID   | StarLevel | Content  | Rule                                         | AddDate  |
|      | 1         | 非常差   | （接单量有效评价排比*3+用户评级*2）<2.0      |          |
|      | 2         | 较差     | （接单量有效评价排比*3+用户评级*2）>=2.0<3.0 |          |
|      | 3         | 及格     | （接单量有效评价排比*3+用户评级*2）>=3.0<3.5 |          |
|      | 4         | 良好     | （接单量有效评价排比*3+用户评级*2）>=3.5<4.0 |          |
|      | 5         | 优秀     | （接单量有效评价排比*3+用户评级*2）>=4.0     |          |

| 运行评级（快递公司） | remarkrule |
| -------------------- | ---------- |
|                      |            |

| ID   | 评价等级    | 名称             | 评价标准                | 添加日期 |
| ---- | ----------- | ---------------- | ----------------------- | -------- |
| ID   | RemarkLevel | Content          | Rule                    | AddDate  |
|      | 1           | 非常差，需要整改 | 订单平均星级<=2.0       |          |
|      | 2           | 较差，警告       | 订单平均星级>2.0  <=2.5 |          |
|      | 3           | 及格             | 订单平均星级>2.0<=3.0   |          |
|      | 4           | 良好             | 订单平均星级>3.5<=4.0   |          |
|      | 5           | 优秀             | 订单平均星级>4.0        |          |

| 日志表 | systemlog |
| ------ | --------- |
|        |           |

| ID   | 操作人 | 操作用户类别 | 操作日期 | 操作内容 |
| ---- | ------ | ------------ | -------- | -------- |
| ID   | UserID | UserType     | AddDate  | Log      |

| 用户类别表 | usertype |
| ---------- | -------- |
|            |          |

| ID   | 用户类别 | 用户权限   | 用户权限说明 |
| ---- | -------- | ---------- | ------------ |
| ID   | TypeID   | Permission | Content      |

| 订单状态表 | orderstatus |
| ---------- | ----------- |
|            |             |

| ID   | 状态（已完成/进行中） | 内容    | 订单编号 | 更新日期   |
| ---- | --------------------- | ------- | -------- | ---------- |
| ID   | Status                | Content | OrderID  | UpdateDate |